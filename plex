#!/bin/bash

COMPOSE_DIR="$HOME/dv/plex-server"

cd "$COMPOSE_DIR" || {
  echo "‚ùå plex-server directory not found at $COMPOSE_DIR"
  exit 1
}

case "$1" in
  start)
    echo "‚ñ∂Ô∏è Starting Plex..."
    docker compose up -d
    ;;
  stop)
    echo "‚èπ Stopping Plex..."
    docker compose down
    ;;
  restart)
    echo "üîÑ Restarting Plex..."
    docker compose down
    docker compose up -d
    ;;
  logs)
    echo "üìú Showing Plex logs (Ctrl+C to exit)..."
    docker compose logs -f
    ;;
  status)
    docker compose ps
    ;;
  *)
    echo "Usage: plex {start|stop|restart|logs|status}"
    exit 1
    ;;
esac
